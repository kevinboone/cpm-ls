/*==========================================================================

  string.c

  Copyright (c)2022 Kevin Boone, GPL v3.0

==========================================================================*/

#include "compat.h"
#include "string.h"

/*==========================================================================

  strlen

==========================================================================*/
int strlen (s)
char *s;
  {
  register int l = 0;
  while (*s) { l++; s++; }
  return l;
  }

/*==========================================================================

  strcmp

==========================================================================*/
int strcmp (s1, s2)
char *s1;
char *s2;
  {
  while(*s1 && (*s1 == *s2))
    {
    s1++;
    s2++;
    }
  return *s1 - *s2;
  }

/*==========================================================================

  memcpy 

==========================================================================*/
void *memcpy (dest, src, n)
void *dest;
CONST void *src;
int n;
  {
  register int i;
  for (i = 0; i < n; i++)
    ((char *)(dest))[i] = ((char *)(src))[i];
  return dest;
  }

/*==========================================================================

  utoa

==========================================================================*/
void utoa (n, s, base)
unsigned n;
char *s;
int base;
  {
  unsigned i = 0;
  if (n == 0)
    {
    s[0] = '0'; s[1] = 0;
    return;
    }
  while (n != 0)
    {
    unsigned rem = n % base;
    s[i++] = (rem > 9) ? (rem - 10) + 'a' : rem + '0';
    n = n / base;
    }
  s[i] = 0;
  reverse (s, i);
  }

/*==========================================================================

  reverse 

==========================================================================*/
void reverse (s, l)
char *s;
int l;
  {
  int start = 0; 
  int end;
  if (l == 0) l = strlen (s);
  end = l - 1;
  while (start < end)
    {
    char temp = *(s+start);
    *(s+start) = *(s+end);
    *(s+end) = temp; 
    start++;
    end--;
    }
  }

